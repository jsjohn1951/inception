version: '3.9'

volumes:
  wordpress:

networks:
  frontend:
  backend:

services:
  nginx:
    volumes:
      - wordpress:/var/www/html
    build: ./requirements/nginx/
    container_name: nginx
    ports:
      - '443:443'
    networks:
      - frontend
    entrypoint: ["nginx", "-g", "daemon off;"]
  
  wordpress:
    volumes:
      - wordpress:/var/www/html
    build: ./requirements/wordpress/
    container_name: wordpress
    expose:
      - 9000
    networks:
      - frontend
    entrypoint: ["/usr/sbin/php-fpm7.3", "-F", "-R"]
